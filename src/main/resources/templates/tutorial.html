<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<html>
<head th:replace="common/trail :: common-trail"></head>
<body>
	<section>
		<div class="px-md-3">
			<div class="row header-top pt-2">
				<div
					class="col-sm-6 d-flex justify-content-center justify-content-md-start">
					<!-- <div>
						<p>
							<a href="tel:1800-267-7782"> <span
								class="contact-num top-banner p-2"><i
									class="fas fa-phone-alt mr-2"></i>Helpline : 1800-267-7782</span></a>
						</p>
					</div> -->
				</div>
				<div
					class="col-sm-6 d-flex justify-content-center justify-content-md-end">
					<div>
						<p class="d-inline-block">
							<span class="top-banner"> <a sec:authorize="isAnonymous()"
								th:href="@{/login}">Login | New User</a> <a
								sec:authorize="isAuthenticated()" th:href="@{/dashBoard}">My
									Account</a>
							</span>
						</p>
						<p class="d-inline-block">
							<span class="top-banner"><a
								sec:authorize="isAuthenticated()" th:href="@{/logout}">Logout</a></span>
						</p>
					</div>
				</div>
			</div>
		</div>
	</section>
	<nav th:replace="index.html :: navbar"></nav>
	<div class="container">
	<div th:replace="common/commonElements :: search_bar"></div> 
	<!-- <section id="search-bar" class="container-lg my-5">
<form th:action="@{/tutorials}" class="form-inline" style="width:100%;">
<div class="row" style="width: 100%;">
<div class="col-md-3 mb-3">
            <select class="custom-select d-block w-100" id="categoryname" name="categoryName">
              <option value="0">Select Category</option>
              <option th:each="category : ${categories}" th:value="${category.getCategoryId()}"><span th:text="${category.getCatName()}"></span></option>
            </select>
            <div class="invalid-feedback">
              Please select a valid foss.
            </div>
</div>
<div class="col-md-3 mb-3">
<select class="custom-select d-block w-100" id="inputTopicName" name="topic">
              <option value="0">Select Topic</option>
              <option th:each="topic : ${topics}" th:value="${topic.getTopicId()}"><span th:text="${topic.getTopicName()}">Title ...</span></option>
            </select>
</div>
<div class="col-md-3 mb-3">
<select class="custom-select d-block w-100" id="inputLanguage" name="lan">
              <option value="0">Select Language</option>
              <option th:each="language : ${languages}" th:value="${language.getLanId()}"><span th:text="${language.getLangName()}">Title ...</span></option> 
            </select>
            <div class="invalid-feedback">
              Please provide a valid language.
            </div>
</div>
          <div class="col-md-3 mb-3" style="width: 100%;">
           <button type="submit" class="btn btn-outline-info" style="height: 38px;width: 100%;margin:0;background:#1C7871;color:#fff;"> Submit </button>
          </div>
</div>
</form>
          
</section> -->
	</div>
	<main id="tutorialPage" class=" mx-5">
		<section id="t-video">
			<div class="my-2 title">
				<h1>
					<span
						th:text="${tutorial.getConAssignedTutorial().getTopicCatId().getCat().getCatName()}">
					</span> : <span
						th:text="${tutorial.getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()}"
						style="color: black;"> (Topic)</span>: <span
						th:text="${tutorial.getConAssignedTutorial().getLan().getLangName()}"
						style="color: black;"> (Language)</span>
				</h1>
			</div>
			<div class="row">
				<div class="col-md-8 p-2">
					<div style="width: 100%; margin: auto;">

						<div class="embed-responsive embed-responsive-16by9">
						<video width="966" height="543" class="video-fluid z-depth-1" loop controls muted>
  <source th:src="@{/files/}+@{${tutorial.getVideo()}}" type="video/mp4" />
</video>
						</div>
					</div>
				</div>
				<div class="col-md-4 px-4 d-none d-md-block" >
					<h5 class="main-color">Related Videos (<span th:text="${tutorial.getConAssignedTutorial().getLan().getLangName()}"/>)</h5>
					<div class="t-related">
					<div class="row rel-vid-b mb-2" th:each="tutorial : ${tutorials}" style="border-bottom: 1px solid rgba(0,0,0,0.2);">
					<video id='storedVideoId' 
				controls="controls" style="width:70%!important;">
				<source th:src="@{/files/}+@{${tutorial.getVideo()}}" type="video/mp4"></source>
			</video>
			
			
					<a th:href="@{'/tutorialView/'+ ${tutorial.getConAssignedTutorial().getTopicCatId().getCat().getCatName()} + '/' +${tutorial.getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()} +'/'+${tutorial.getConAssignedTutorial().getLan().getLangName()}}" class="col-12">
						
							
							
							<!--<div class="col-md-4">
							</div>  -->
							
							
								<div class="col-md-12" style="padding-top:6px; padding-left:0px; padding-right:0px;" >
								
								<h4 style="width:100%;"><span ><i class="far fa-play-circle mr-3" style="color:#1C7871; "></i><span th:text="${tutorial.getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()}"></span></span></h4>
								<h6><span th:text="${tutorial.getConAssignedTutorial().getTopicCatId().getCat().getCatName()}"></span></h6>
							</div>
					</a>
					</div>
					</div>
				</div>
			</div>
		</section>
		<section th:if="${tutorial.getPreRequistic() != null}"><p>Watch pre-requisite : <a th:href="@{'/tutorialView/'+ ${tutorial.getPreRequistic().getConAssignedTutorial().getTopicCatId().getCat().getCatName()} + '/' +${tutorial.getPreRequistic().getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()} +'/'+${tutorial.getPreRequistic().getConAssignedTutorial().getLan().getLangName()}}">
		<span th:text="${tutorial.getPreRequistic().getConAssignedTutorial().getTopicCatId().getCat().getCatName()}"></span> :
		<span th:text="${tutorial.getPreRequistic().getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()}"></span>
		</a></p></section>
		<section><p> User Visit : <span th:text="${tutorial.getUserVisit()}"/></p></section>
		<section id="t-content" class="row">
			<div id="resources" class="col-md-8">
				<ul class="nav nav-pills mb-3 nav-justified  mx-1" id="pills-tab"
					role="tablist">
					<li class="nav-item link-style"><a class="nav-link active"
						id="pills-home-tab" data-toggle="pill" href="#pills-home"
						role="tab" aria-controls="pills-home" aria-selected="true"><i
							class="far fa-newspaper mr-2 t-icon"></i> Outline</a></li>
					<li class="nav-item link-style"><a class="nav-link"
						id="pills-script-tab" data-toggle="pill" href="#pills-script"
						role="tab" aria-controls="pills-script" aria-selected="false"><i
							class="far fa-file-alt mr-2 t-icon"></i> Resources</a></li>
					
				</ul>
				<div class="tab-content px-0 py-3" id="pills-tabContent-tutorial"
					style="height: 250px; overflow: auto;">
					<div class="tab-pane fade show active px-1" id="pills-home" 
						role="tabpanel" aria-labelledby="pills-home-tab">
						<p th:utext="${tutorial.getOutline()}"></p>
					</div>
					<div class="tab-pane fade px-5" id="pills-script" role="tabpanel"
						aria-labelledby="pills-script-tab">
						<ul class="pl-10">
							<li class="mb-3"><i class="fas fa-file-download mr-3"></i> 
							<a
								th:if="${tutorial.getScript()}"
								th:href="@{${sm_url}}" name="ScriptPdf"
								target="_blank" id="ScriptPdf">Original Script</a>
								<a
								th:unless="${tutorial.getScript()}"
								 th:href="@{/files/}+@{${tutorial.getScript()}}" name="ScriptPdf"
								target="_blank" id="ScriptPdf">Original Script</a>
							<a
								name="ScriptPdf" target="_blank" id="viewScript" href="#"></a></li>
								
								<li th:if="${tutorial.getTimeScript()}"class="mb-3"><i class="fas fa-file-download mr-3"></i> <a
								th:if="${tutorial.getScriptStatus() != 0}"
								th:href="@{/files/}+@{${tutorial.getTimeScript()}}" name="ScriptPdf"
								target="_blank" id="ScriptPdf">Timed Script</a> <a
								name="ScriptPdf" target="_blank" id="viewScript" href="#"></a></li>
								
							<li class="mb-3" th:unless="${relatedContent}"><i class="fas fa-file-download mr-3"></i> 
							<a name="sliedPdf" th:if="${tutorial.getSlideStatus() != 0}" target="_blank" th:href="@{/files/}+@{${tutorial.getSlide()}}"
																	id="sliedPdf"> Slide</a>
							</li>
							<li class="mb-3" th:if="${relatedContent}"><i class="fas fa-file-download mr-3"> </i> 
							<a name="sliedPdf" target="_blank" th:href="@{/files/}+@{${relatedContent.getSlide()}}"
																	id="sliedPdf"> Slide</a>
							</li>
						</ul>
					</div>
					<div class="tab-pane fade px-5" id="pills-slides" role="tabpanel"
						aria-labelledby="pills-slides-tab">
						<div>
							<a
								href="http://spoken-tutorial.org/media/videos/100/1447/resources/Protein-rich-vegetarian-recipes-Slides.zip"
								download="script"> <i class="fas fa-file-download mr-3"></i>
								Slides
							</a>
						</div>
					</div>

				</div>
				
				<div class="px-0 d-md-none">
				<h5 class="main-color">Related Videos (<span th:text="${tutorial.getConAssignedTutorial().getLan().getLangName()}"/>)</h5>
					<div class="t-related">
					<div class="row rel-vid-b mb-2" th:each="tutorial : ${tutorials}" style="border-bottom: 1px solid rgba(0,0,0,0.2);">
					<video id='storedVideoId' 
				controls="controls" style="width:60%!important;">
				<source th:src="@{/files/}+@{${tutorial.getVideo()}}" type="video/mp4"></source>
			</video>
					<a th:href="@{'/tutorialView/'+ ${tutorial.getConAssignedTutorial().getTopicCatId().getCat().getCatName()} + '/' +${tutorial.getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()} +'/'+${tutorial.getConAssignedTutorial().getLan().getLangName()}}" class="col-12">
						
							
							<div class="col-md-12" style="padding-top:6px; padding-left:0px; padding-right:0px;" >
								
								<h4 style="width:100%;"><span ><i class="far fa-play-circle mr-3" style="color:#1C7871; "></i><span th:text="${tutorial.getConAssignedTutorial().getTopicCatId().getTopic().getTopicName()}"></span></span></h4>
								<h6><span th:text="${tutorial.getConAssignedTutorial().getTopicCatId().getCat().getCatName()}"></span></h6>
							</div>
					</a>
					</div>
					</div>
					</div>
			</div>
			<div id="t-related" class="col-md-4"></div>
		</section>

	</main>

	<div th:replace="common/trail :: body-bottom-scripts"></div>
	<script>
		var projectPath='[(@{/})]';		
	</script>
</body>
</html>